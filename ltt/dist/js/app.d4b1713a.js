(function(){"use strict";var e={5672:function(e,t,n){n.d(t,{Z:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"buttom"},[t("van-tabbar",{attrs:{route:"","active-color":"#51bea1"}},[t("van-tabbar-item",{attrs:{to:"/",icon:"home-o"}},[e._v("首页")]),t("van-tabbar-item",{attrs:{to:"/publish"}},[t("van-icon",{attrs:{name:"add",color:"#51bea1"}})],1),t("van-tabbar-item",{attrs:{to:"/my",icon:"friends-o"}},[e._v("我的")])],1)],1)},i=[],r={data(){return{}}},a=r,s=n(1001),u=(0,s.Z)(a,o,i,!1,null,"e5534a26",null),c=u.exports},22:function(e,t,n){n.d(t,{ic:function(){return f},ci:function(){return s},x4:function(){return a},ls:function(){return d},Jf:function(){return u},wF:function(){return c},Hc:function(){return l},gJ:function(){return p},rw:function(){return h},KJ:function(){return m}});var o=n(6265),i=n.n(o);i().defaults.baseURL="https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http",i().interceptors.response.use((e=>e.data));var r=i();function a(e){return r.post("/user/login",e)}function s(e){return r.post("/user/getuserInfo",e)}function u(e){return r.post("/upload/token",e)}function c(e){return r.post("https://upload-z1.qiniup.com",e)}function l(e){return r.post("/api/get_fav_list",e)}function d(e){return r.post("/api/get_history_list?uid=60eb03731ccee70001adb1d0&skip&limit",e)}function f(e){return r.post("/user/editUserInfo",e)}function h(e){return r.post("/api/get_user_article_list?uid=60eb03731ccee70001adb1d0&skip&limit",e)}function p(e){return r.post("/api/del_user_article",e)}function m(e){return r.post("/api/get_article_list",e)}},8228:function(e,t,n){n(3096);var o=n(2628),i=(n(3255),n(797)),r=(n(4072),n(3481)),a=(n(9649),n(1765)),s=(n(2680),n(8186)),u=(n(6530),n(5094)),c=(n(4391),n(4398)),l=(n(1611),n(7061)),d=(n(3970),n(140)),f=(n(5654),n(8848)),h=(n(4809),n(9858)),p=(n(2406),n(9864)),m=(n(9578),n(6631)),g=(n(9130),n(4517)),v=(n(5710),n(219)),b=(n(4724),n(4588)),Z=(n(7222),n(8e3)),_=(n(6394),n(5767)),y=(n(7234),n(5650)),w=(n(7057),n(6812)),k=(n(3891),n(6811)),P=(n(7037),n(4319)),x=(n(7983),n(4269)),C=(n(3066),n(2778)),L=(n(4592),n(4958)),S=(n(1247),n(4639)),I=n(6369),D=n(6265),E=n.n(D);let j={};const q=E().create(j);q.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),q.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=q,window.axios=q,Object.defineProperties(e.prototype,{axios:{get(){return q}},$axios:{get(){return q}}})},I.ZP.use(Plugin);Plugin;var T=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("keep-alive",[e.$route.meta.needLogin?t("router-view"):e._e()],1),e.$route.meta.needLogin?e._e():t("router-view")],1)},O=[],A={mounted(){""==localStorage.username||localStorage.tokenID}},z=A,F=n(1001),M=(0,F.Z)(z,T,O,!1,null,"4f02ced1",null),N=M.exports,$=n(9907);(0,$.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var J=n(2631),U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"home-one"},[t("span",{on:{click:e.search}},[t("em",[t("van-icon",{attrs:{name:"search"}})],1),e._v("搜索")])]),t("div",{staticClass:"home-tow"},[t("van-tabs",{on:{click:e.home}},e._l(e.hqfl,(function(e,n){return t("van-tab",{key:n,attrs:{title:e.name}})})),1)],1),t("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:function(t){return e.onRefresh()}},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[t("div",{staticClass:"home-nr"},e._l(e.wzlb,(function(n,o){return t("div",{key:o,staticClass:"home-three",on:{click:function(t){return e.vixq(n)}}},[t("div",{staticClass:"home-index"},[t("div",[t("div",{staticClass:"home-three-top"},[t("h3",[e._v(e._s(n.title))])])]),t("div",{class:{img2:2==n.poster_type,img3:3==n.poster_type}},e._l(n.imageSrc,(function(n,o){return t("van-image",{key:o,attrs:{"lazy-load":"",src:n},scopedSlots:e._u([{key:"error",fn:function(){return[e._v("加载失败")]},proxy:!0}],null,!0)})})),1)]),t("div",{staticClass:"home-three-for"},[t("span",[e._v(" 日期："+e._s(e.timestampToTime(n.time))+" ")]),t("em",[e._v("作者："+e._s(n.author))])])])})),0)])],1),t("buttom")],1)},B=[],H=(n(7582),n(1878)),K=n(22),R=n(5672);I.ZP.use(S.Z),I.ZP.use(H.Z);var Y={components:{buttom:R.Z},data(){return{loading:!1,finished:!1,count:0,isLoading:!1,value:"",hqfl:[],wzlb:[],hqflID:[],index:0,count:0,counts:0}},methods:{search(){this.$router.push("/search")},timestampToTime(e){e=e||null;let t=new Date(e),n=t.getFullYear()+"-",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",i=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ";t.getHours(),t.getHours(),t.getMinutes(),t.getMinutes(),t.getSeconds(),t.getSeconds();return n+o+i},onLoad(){setTimeout((()=>{this.count+=10,this.refreshing&&(this.wzlb=[],this.refreshing=!1),this.axios.post("/api/get_article_list",{cate_id:this.hqflID[this.index]._id,skip:this.count,limit:10}).then((e=>{e.data.data.forEach(((t,n)=>{1==t.poster_type?e.data.data.splice(n,1):this.wzlb.push(e.data.data[n])}))})),this.loading=!1,this.wzlb.length>=10*this.counts&&(this.finished=!0)}),1e3)},onRefresh(){setTimeout((()=>{this.isLoading=!1,this.count++,this.axios.post("/api/get_article_list",{cate_id:this.hqflID[this.index]._id,skip:"0",limit:"10"}).then((e=>{e.data.data.forEach(((t,n)=>{1==t.poster_type?e.data.data.splice(n,1):this.wzlb.push(e.data.data[n])}))}))}),1e3)},vixq(e){this.$router.push({path:"/getArticleDetail",query:{authorID:e._id}})},home(e){this.index=e,this.axios.post("/api/get_article_list",{cate_id:this.hqflID[e]._id,skip:"0",limit:"10"}).then((e=>{this.wzlb=e.data.data,this.count=0,this.counts=e.data.count-0,Math.floor(this.counts)}))}},mounted(){(0,K.KJ)(),this.axios.post("/api/get_cate_list").then((e=>{this.hqfl=e.data.data,this.hqflID=e.data.data,this.axios.post("/api/get_article_list",{cate_id:this.hqfl[0]._id,skip:"0",limit:"10"}).then((e=>{e.data.data.forEach(((t,n)=>{1==t.poster_type?e.data.data.splice(n,1):this.wzlb.push(e.data.data[n])})),this.counts=parseInt(e.data.count/10)}))}))}},G=Y,Q=(0,F.Z)(G,U,B,!1,null,"e99ca5e4",null),V=Q.exports;I.ZP.use(J.Z);const W=[{path:"/",name:"home",component:V,meta:{needLogin:!0}},{path:"/my",name:"my",component:()=>n.e(443).then(n.bind(n,4779)),meta:{needLogin:!0}},{path:"/publish",name:"publish",component:()=>n.e(443).then(n.bind(n,226)),meta:{needLogin:!0}},{path:"/reg",name:"reg",component:()=>n.e(443).then(n.bind(n,9465))},{path:"/login",name:"login",component:()=>n.e(443).then(n.bind(n,8403))},{path:"/userEdit",name:"userEdit",component:()=>n.e(443).then(n.bind(n,2002))},{path:"/updatePwd",name:"updatePwd",component:()=>n.e(443).then(n.bind(n,5887))},{path:"/search",name:"search",component:()=>n.e(443).then(n.bind(n,1075)),meta:{needLogin:!0}},{path:"/forget",name:"forget",component:()=>n.e(443).then(n.bind(n,1474))},{path:"/editUserInfo",name:"editUserInfo",component:()=>n.e(443).then(n.bind(n,2239)),meta:{needLogin:!0}},{path:"/getArticleDetail",name:"getArticleDetail",component:()=>n.e(443).then(n.bind(n,4881))},{path:"/sc",name:"sc",component:()=>n.e(443).then(n.bind(n,6382))},{path:"/ls",name:"ls",component:()=>n.e(443).then(n.bind(n,4483))},{path:"/lxwm",name:"lxwm",component:()=>n.e(443).then(n.bind(n,1821))},{path:"/gywm",name:"gywm",component:()=>n.e(443).then(n.bind(n,5359))},{path:"/wdfb",name:"wdfb",component:()=>n.e(443).then(n.bind(n,6672))}],X=new J.Z({routes:W});var ee=X,te=n(3822);I.ZP.use(te.ZP);var ne=new te.ZP.Store({state:{token:"",uid:"",username:"",isLogin:!1,userInfo:{}},getters:{},mutations:{change(e,{key:t,value:n}){e[t]=n},clear(e){e.token="",e.uid="",e.username="",e.isLogin=!1,e.userInfo={}}},actions:{async getuser({commit:e},t){return(0,K.ci)({token:t}).then((n=>{0==n.code?(e("change",{key:"isLogin",value:!0}),e("change",{key:"token",value:t}),e("change",{key:"userInfo",value:n.userInfo}),e("change",{key:"uid",value:n.uid}),e("change",{key:"username",value:n.userInfo.username})):console.log(111)}))},async upload(e,t){let n=[];if(!t||t==[])return console.log("图片数组为空"),n;let o=await t.map((e=>new Promise((async(t,n)=>{let{file:o}=e,{type:i}=o;i=i.split("/")[1];let r=`${(new Date).getTime()}_${Math.random().toString(36).slice(2)}.${i}`,{token:a}=await(0,K.Jf)();console.log(a);const s=new FormData;s.append("file",o),s.append("token",a),s.append("key",r),await(0,K.wF)(s).then((e=>{t("http://toutiao.longxiaokj.com/"+e.key)}))}))));return n=await Promise.all(o),n}},modules:{}});function oe(){return new Promise(((e,t)=>{let n=localStorage.getItem("token"),o=localStorage.getItem("tokenExpired");if(n){let t=Date.now();t>=o?(localStorage.clear(),e()):ne.dispatch("getuser",n).then((t=>{e()}))}else e()}))}I.ZP.config.productionTip=!1,I.ZP.use(S.Z),I.ZP.use(L.Z),I.ZP.use(C.Z),I.ZP.use(x.Z),I.ZP.use(P.Z),I.ZP.use(k.Z),I.ZP.use(w.Z),I.ZP.use(y.Z),I.ZP.use(_.Z),I.ZP.use(Z.Z),I.ZP.use(b.Z),I.ZP.use(v.Z),I.ZP.use(g.Z),I.ZP.use(m.Z),I.ZP.use(p.Z),I.ZP.use(h.Z),I.ZP.use(f.Z),I.ZP.use(d.Z),I.ZP.use(l.Z),I.ZP.use(c.Z),I.ZP.use(u.Z),I.ZP.use(s.Z),I.ZP.use(a.Z),I.ZP.use(r.Z),I.ZP.use(i.Z),I.ZP.use(o.Z),oe().then((e=>{new I.ZP({router:ee,store:ne,render:e=>e(N)}).$mount("#app")})).catch((e=>{console.log(e)}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],r=e[l][2];for(var s=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(s=!1,r<a&&(a=r));if(s){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.dfa50c14.js"}}(),function(){n.miniCssF=function(e){return"css/about.1c1f8856.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ltt:";n.l=function(o,i,r,a){if(e[o])e[o].push(i);else{var s,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(r){if(i.onerror=i.onload=null,"load"===r.type)n();else{var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,i.parentNode.removeChild(i),o(u)}};return i.onerror=i.onload=r,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],r=i.getAttribute("data-href");if(r===e||r===t)return i}},o=function(o){return new Promise((function(i,r){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return i();e(o,s,i,r)}))},i={143:0};n.f.miniCss=function(e,t){var n={443:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=r);var a=n.p+n.u(t),s=new Error,u=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}};n.l(a,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],s=o[1],u=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)var l=u(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self["webpackChunkltt"]=self["webpackChunkltt"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8228)}));o=n.O(o)})();
//# sourceMappingURL=app.d4b1713a.js.map